<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gallery-Portfolio</title>
    <script>
      (function () {
        try {
          const params = new URLSearchParams(window.location.search);
          const raw = String(params.get("fullscreen") || "").trim().toLowerCase();
          const waterfallValues = ["0", "false", "no", "off"];
          const isWaterfall = waterfallValues.includes(raw);
          document.documentElement.classList.add(isWaterfall ? "boot-waterfall" : "boot-fullscreen");
        } catch (_) {
          document.documentElement.classList.add("boot-fullscreen");
        }
      })();
    </script>
    <style>
      html.boot-fullscreen body {
        margin: 0;
        background: #000;
      }
      html.boot-fullscreen body.app-booting > header,
      html.boot-fullscreen body.app-booting > .gallery,
      html.boot-fullscreen body.app-booting > .tag-filter,
      html.boot-fullscreen body.app-booting > .tag-filter-vertical,
      html.boot-fullscreen body.app-booting > footer,
      html.boot-fullscreen body.app-booting > #myModal {
        display: none !important;
      }
    </style>
    <link rel="stylesheet" href="public/styles.css?v=20260228-5" />
    <link rel="stylesheet" href="public/gallery.css?v=20260228-5" />
    <link rel="icon" href="public/assets/favicon.svg" type="image/svg+xml" />
  </head>
  <body class="app-booting">
    <header>
      <h1>
        <a href="/" style="text-decoration: none; color: inherit;">Gallery-Portfolio</a>
      </h1>
      <div class="header-buttons">
        <button id="shuffle-toggle" class="header-action-btn" aria-label="éšæœºæ’åºå¼€å…³">
          ğŸ”€
        </button>
        <button id="random-image-btn" class="header-action-btn" aria-label="æŸ¥çœ‹éšæœºå›¾">
          ğŸ²
        </button>
        <button id="fullscreen-toggle" class="header-action-btn" aria-label="å…¨å±æ¨¡å¼å¼€å…³">
          ğŸ——
        </button>
        <a id="admin-link" class="admin-link" href="/admin/" aria-label="è¿›å…¥ç®¡ç†åå°">Admin</a>
        <a
          id="github-link"
          href="https://github.com/linyuxuanlin/Gallery-Portfolio"
          target="_blank"
        >
          <img 
            src="public/assets/github.svg" 
            alt="GitHub ä»“åº“é“¾æ¥" 
            aria-label="è®¿é—® GitHub ä»“åº“"
          />
        </a>
        <button id="theme-toggle" aria-label="åˆ‡æ¢æ·±è‰²/æµ…è‰²ä¸»é¢˜">
          <img
            src="public/assets/brightness_4.svg"
            alt="Toggle Theme"
            id="theme-icon"
          />
        </button>
      </div>
    </header>
    <div id="loading"></div>
    <div id="single-image-stage" class="single-image-stage">
      <img id="single-image" alt="Gallery Image" />
    </div>
    <button
      id="fullscreen-upload-btn"
      class="fullscreen-upload-btn upload-hidden"
      type="button"
      aria-label="ä¸Šä¼ å›¾ç‰‡"
    >
      <span class="upload-btn-icon" aria-hidden="true">+</span>
      <span id="fullscreen-upload-btn-text">ä¸Šä¼ å›¾ç‰‡</span>
    </button>

    <div id="upload-modal" class="upload-modal upload-hidden" role="dialog" aria-modal="true" aria-labelledby="upload-modal-title">
      <div class="upload-modal-card">
        <h2 id="upload-modal-title">ä¸Šä¼ å›¾ç‰‡</h2>
        <p id="upload-modal-description" class="upload-modal-description">
          è¯·å¡«å†™å›¾ç‰‡æè¿°å¹¶é€‰æ‹©å›¾ç‰‡åä¸Šä¼ ã€‚
        </p>
        <p class="upload-target-dir">ç›®æ ‡ç›®å½•ï¼š<code id="upload-folder-label">/</code></p>

        <form id="upload-form" novalidate>
          <label for="upload-user-description">å›¾ç‰‡æè¿°</label>
          <textarea
            id="upload-user-description"
            name="description"
            rows="3"
            maxlength="500"
            placeholder="å¯å¡«å†™å›¾ç‰‡è¯´æ˜"
          ></textarea>

          <label for="upload-file-input">é€‰æ‹©å›¾ç‰‡æ–‡ä»¶</label>
          <input id="upload-file-input" name="file" type="file" accept="image/*" required />

          <div class="upload-modal-actions">
            <button id="upload-cancel-btn" class="upload-btn-secondary" type="button">å–æ¶ˆ</button>
            <button id="upload-submit-btn" class="upload-btn-primary" type="submit">å¼€å§‹ä¸Šä¼ </button>
          </div>

          <p id="upload-feedback" class="upload-feedback" role="status" aria-live="polite"></p>
        </form>
      </div>
    </div>
    <div class="gallery" id="gallery"></div>

    <!-- Modal for image display -->
    <div id="myModal" class="modal">
      <span class="close">&times;</span>
      <img class="modal-content" id="img01" />
      <div id="exif-info"></div>
      <button id="load-original-btn" class="load-original-btn">åŠ è½½åŸå›¾</button>
    </div>

    <!-- åŠ è½½JavaScriptæ¨¡å— -->
    <script src="public/data-loader.js?v=20260228-5"></script>
    <script src="public/tag-filter.js?v=20260228-5"></script>
    <script src="public/image-loader.js?v=20260228-5"></script>
    <script src="public/auto-scroll.js?v=20260228-5"></script>
    <script src="public/layout.js?v=20260228-5"></script>
    <script src="public/gallery.js?v=20260228-5"></script>
  </body>
</html> 
